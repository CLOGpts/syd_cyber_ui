<!DOCTYPE html>
<html>
<head>
    <title>Test App Risk Management</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f0f0f0; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; }
        button { padding: 15px 30px; margin: 10px; background: linear-gradient(to right, #ef4444, #f97316); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; }
        button:hover { opacity: 0.9; }
        iframe { width: 100%; height: 600px; border: 2px solid #ccc; border-radius: 8px; margin-top: 20px; }
        .instructions { background: #f9f9f9; padding: 15px; border-radius: 8px; margin: 20px 0; }
        code { background: #333; color: #0f0; padding: 2px 5px; border-radius: 3px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Test Risk Management nell'App</h1>
        
        <div class="instructions">
            <h3>üìã Istruzioni per testare:</h3>
            <ol>
                <li>Apri la Console del browser (F12)</li>
                <li>Clicca su "Apri App"</li>
                <li>Nell'app, clicca sul pulsante rosso "üõ°Ô∏è Risk Management"</li>
                <li>Guarda nella console per: <code>üî¥ PULSANTE RISK MANAGEMENT CLICCATO!</code></li>
                <li>Se vedi il messaggio, guarda se appare anche: <code>üöÄ START RISK MANAGEMENT CHIAMATO!</code></li>
            </ol>
        </div>
        
        <button onclick="openApp()">Apri App in iframe</button>
        <button onclick="testDirect()">Test Diretto API</button>
        
        <div id="result"></div>
        
        <iframe id="appFrame" style="display:none;"></iframe>
    </div>
    
    <script>
        function openApp() {
            const frame = document.getElementById('appFrame');
            frame.style.display = 'block';
            frame.src = 'http://localhost:5174';
            document.getElementById('result').innerHTML = '<p style="color:green;">‚úÖ App caricata nell\'iframe. Ora clicca sul pulsante Risk Management nell\'app e guarda la console!</p>';
        }
        
        async function testDirect() {
            try {
                const response = await fetch('http://localhost:8000/categories');
                const data = await response.json();
                document.getElementById('result').innerHTML = '<pre style="background:#f5f5f5;padding:10px;">' + JSON.stringify(data, null, 2) + '</pre>';
                console.log('‚úÖ Backend funziona:', data);
            } catch (error) {
                document.getElementById('result').innerHTML = '<p style="color:red;">‚ùå Errore: ' + error + '</p>';
                console.error('‚ùå Errore:', error);
            }
        }
        
        // Log per debug
        console.log('üîç Test page caricata. Segui le istruzioni sopra.');
    </script>
</body>
</html>